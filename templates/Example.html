<!-- Button trigger modal 
    Для активации кнопки нужен класс btnModal.
    data-targetmodal="#first" Уникальный айди, для понимание где окно находится, а также какие кнопки используются для закрытия 
    -->
<button type="button" class="btn btn-primary openW" data-targetmodal="#first">
   Launch demo modal
</button>
<!-- Modal -->
<div class="modalW modal fade dNone" data-targetmodal="#first">
   <div class="bgModalEvent closeW" data-targetmodal="#first"></div>
   <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
         <div class="modal-header">
            <h1 class="modal-title fs-5">Modal title</h1>
            <button type="button" class="btn-close closeW" data-targetmodal="#first"></button>
         </div>
         <div class="modal-body">
            <p>Woo-hoo, you're reading this text in a modal!</p>
         </div>
         <div class="modal-footer">
            <button type="button" class="btn btn-secondary closeW" data-targetmodal="#first">Close</button>
            <button type="button" class="btn btn-primary closeW" data-targetmodal="#first">Save changes</button>
         </div>
      </div>
   </div>
</div>





<div class="pagination-container">
   <!-- Dropdown for items per page (moved to the left)-->
   <label for="items-per-page">Items per page:</label>
   <select id="items-per-page">
      <option value="10">10</option>
      <option value="20">20</option>
      <option value="50">50</option> <!-- Default selection -->
      <option value="100">100</option>
      <!-- Add more options as needed -->
   </select>

   <!-- Add id="current-page" and id="total-pages" here -->
   <a class="custom-pagination-button" href="?page=1&per_page={{ per_page }}">First</a>
   {% if current_page > 1 %}
   <a class="custom-pagination-button" href="?page={{ current_page - 1 }}&per_page={{ per_page }}">Previous</a>
   {% endif %}
   {% if current_page < total_pages %} <a class="custom-pagination-button"
      href="?page={{ current_page + 1 }}&per_page={{ per_page }}">Next</a>
      {% endif %}
      <a class="custom-pagination-button" href="?page={{ total_pages }}&per_page={{ per_page }}">Last</a>
      <div id="pagination-dropdown" class="pagination-dropdown">
      </div>
</div>



<!-- <tr id="table-headers" class="text-center">
                        <th  scope="col" data-column="checkbox"></th>
                        <th  scope="col" data-column="index">#</th> 
                        <th  scope="col" data-column="asin">ASIN</th> 
                        <th  scope="col" data-column="odl-asin">Old ASINs</th>
                        <th  scope="col" data-column="sku">SKU</th>
                        <th  scope="col" data-column="old-sku">Old SKUs</th>
                        <th  scope="col" data-column="name">Name</th>
                        <th  scope="col" data-column="thr-link">THR Link</th>
                        <th  scope="col" data-column="link">WS Link</th>
                        <th  scope="col" data-column="pricing">Pricing Strategy</th>
                        <th  scope="col" data-column="bht">Basic Handling Time</th>
                        <th  scope="col" data-column="price">Price</th>
                        <th  scope="col" data-column="delivery-thr-10001">Delivery Price THR 10001</th>
                        <th  scope="col" data-column="delivery-ws-10001">Delivery Price WS 10001</th>
                        <th  scope="col" data-column="delivery-thr-90001">Delivery Price THR 90001</th>
                        <th  scope="col" data-column="delivery-ws-90001">Delivery Price WS 90001</th>
                        <th  scope="col" data-column="threshlod-m">Threshold for median HT calculation</th>
                        <th  scope="col" data-column="orders-count">Orders count</th>
                        <th  scope="col" data-column="units-sold">Units sold count</th>
                        <th  scope="col" data-column="returs">Returns count</th>
                        <th  scope="col" data-column="a-z">A-to-Z count</th>
                        <th  scope="col" data-column="item">Item #</th>
                        <th  scope="col" data-column="eta">ETA</th>
                        <th  scope="col" data-column="stock-availble">Stock availability</th>
                        <th  scope="col" data-column="free-ship">Free shipping with Plus</th>
                     </tr> -->


<!-- <tbody id="table-body"> 
                     {% for item in items %}   
                     <tr>
                        <td>
                           <input style="width: 100%;text-align: center;" type="checkbox" name="selected_product" value="{{ item['_id'] }}">
                        </td> 
                        <th data-column="index" scope="row">{{ loop.index }}</th>
                        <td data-column="asin">{{ item['ASIN'] }}</td>
                        <td data-column="odl-asin">{{ item.get('Old ASINs', '') }}</td>
                        <td data-column="sku">{{ item['SKU'] }}</td>
                        <td data-column="old-sku">{{ item.get('Old SKUs', '') }}</td>
                        <td data-column="name">{{ item['Name'] }}</td>
                        <td data-column="thr-link">{{ item.get('THR Link', '') }}</td>
                        <td data-column="link">{{ item.get('WS Link', '') }}</td>
                        <td data-column="pricing">{{ item.get('Pricing Strategy', '') }}</td>
                        <td data-column="bht">{{ item.get('Basic Handling Time', '') }}</td>
                        <td data-column="price">{{ item.get('Price', '') }}</td>
                        <td data-column="delivery-thr-10001">{{ item.get('Delivery Price', {}).get('THR',
                           {}).get('10001', '') }}</td>
                        <td data-column="delivery-ws-10001">{{ item.get('Delivery Price', {}).get('WS', {}).get('10001',
                           '') }}</td>
                        <td data-column="delivery-thr-90001">{{ item.get('Delivery Price', {}).get('THR',
                           {}).get('90001', '') }}</td>
                        <td data-column="delivery-ws-90001">{{ item.get('Delivery Price', {}).get('WS', {}).get('90001',
                           '') }}</td>
                        <td data-column="threshlod-m">{{ item.get('Threshold for median HT calculation', '') }}</td>
                        <td data-column="orders-count">{{ item.get('Orders count', '') }}</td>
                        <td data-column="units-sold">{{ item.get('Units sold count', '') }}</td>
                        <td data-column="returs">{{ item.get('Returns count', '') }}</td>
                        <td data-column="a-z">{{ item.get('A-to-Z count', '') }}</td>
                        <td data-column="item">{{ item.get('Item #', '') }}</td>
                        <td data-column="eta">{{ item.get('ETA', '') }}</td>
                        <td data-column="stock-availble">{{ item.get('Stock availability', '') }}</td>
                        <td data-column="free-ship">{{ item.get('Free shipping with Plus', '') }}</td>
                     </tr>
                     {% endfor %}
                  </tbody> -->




                  
   <!-- Hidden modal dialog for column customization 
   <div id="customize-dialog" class="modal">
      <div class="modal-content">
         <span id="customize-close" class="close">&times;</span>
         <h2>Customize Columns</h2>
         <div id="customize-checkboxes">
             
         </div>
         <button id="customize-save">Save</button>
         <button id="customize-cancel">Cancel</button>
      </div>
   </div>-->



   <!-- Modal Overlay -->
   <!-- <div id="modal-overlay" class="modal"> 
      <div class="modal-content">
         <span id="close-add-product-modal" class="close">&times;</span>
         <h2>Add Product</h2>
         <form id="add-product-form"> 
            <input type="text" id="sku" placeholder="SKU" required>
            <input type="text" id="name" placeholder="Name" required>
            <input type="text" id="thr-link" placeholder="THR Link">
            <input type="text" id="ws-link" placeholder="WS Link">
            <input type="text" id="pricing-strategy" placeholder="Pricing Strategy">
            <input type="text" id="basic-handling-time" placeholder="Basic Handling Time">
            <input type="text" id="price" placeholder="Price">
            <input type="text" id="median-ht" placeholder="Threshold for median HT calculation"> 
            <button type="submit" class="menu-container button:hover">Add</button>
         </form>
      </div>
   </div> 
















import FETCH from "./FETCH.js";
import CreateTable from "./CreateTable.js";
import addviascsv from "./addviacsv.js";

function SearchRadio(ArrKeys) {
  let RadioSearch = document.querySelectorAll('input[name="SearchRadio"]');
  let SearchSubmit = document.querySelector("#SearchSubmit");
  let InpSearch = document.querySelector("#InpSearch");

  let newData = { items: [] };
  // нужно чтобы FETCH получал от App.py все элементы.
  setTimeout(async () => {

    // Пределать на запрос AllItems FETCH("/AllItems")
    FETCH("/all_items").then(async (data) => { 
      newData = data;
    });
    SearchSubmit.disabled = false;
    await SearchSubmit.addEventListener("click", () => {
      RadioSearch.forEach((e) => {
        if (e.checked === true) {
          // На случай, если обработка Search будет на стороне сервера 
          // FETCH("/AllItems" ,{value: InpSearch.value, category:e.title}).then(async (data)=>{
          //   await CreateTable(data);
          // });  
          let RadioKey = e.title;
          let sortedData = { items: [] };
          console.log(newData.items);

          newData.items.map((element, index) => { 
            if (String(element[RadioKey]).toLowerCase().includes(String(InpSearch.value).toLowerCase()) === true) {
              sortedData.items.push(element);
            }
          })
          if (sortedData.items.length === 0) {
            alert("Not found");
          } else {
            CreateTable(sortedData , ArrKeys);
            addviascsv(sortedData , ArrKeys);
          } 
        }
      })
    });
  }, 1000);
}

export default SearchRadio;




-->