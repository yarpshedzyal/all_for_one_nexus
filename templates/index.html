<!doctype html>
<html lang="en">

<head>
   <title>NEXUS</title>

   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link rel="shortcut icon" href="{{ url_for('static', filename='./img/NXSLOGO.png') }}" type="image/png">
   <link
      href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&family=Neucha&family=Open+Sans:ital,wght@0,400;0,600;0,800;1,400;1,700;1,800&display=swap"
      rel="stylesheet">

   <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles.css') }}">
   <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='bootstrap.min.css') }}">
</head>

<body>
   <script>
      document.addEventListener('DOMContentLoaded', async function () {
         // Get the pagination parameters from the query string or use default values
         const page = new URLSearchParams(window.location.search).get('page') || 1;
         const perPage = new URLSearchParams(window.location.search).get('per_page') || 50;

         // Fetch data from the server
         const response = await fetch(`/index?page=${page}&per_page=${perPage}`);

         if (response.ok) {
            // Parse the JSON data
            const data = await response.json();
            console.log(data);

            // Use the data as needed, for example, update the DOM
            // Example: Assuming there's a div with id="items-container" to display the items
            const itemsContainer = document.getElementById('items-container');
            itemsContainer.innerHTML = ''; // Clear previous content

            data.items.forEach(item => {
               const itemElement = document.createElement('div');
               itemElement.textContent = JSON.stringify(item);
               itemsContainer.appendChild(itemElement);
            });

            // You can also use other data like total_pages, current_page, etc., as needed
         } else {
            console.error('Failed to fetch data:', response.statusText);
         }
      });
   </script>

   <!-- Add this input element for file selection -->
   <input type="file" id="csv-file-input" accept=".csv" style="display:none;">


   <!-- Navigation -->
   <section>
      <div class="container-fluid">
         <div class="row mt-3">
            <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top">
               <div class="container-fluid">
                  <a class="navbar-brand" href="#" title="NEXUS LOGO">
                     <svg width="100px" viewBox="0 0 218 174" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <!-- 0---734 -->
                        <g clip-path="url(#clip0_202_2)">
                           <path class="animFolder" fill-rule="evenodd" clip-rule="evenodd"
                              d="M87.2 0H21.8C9.81 0 0 9.7875 0 21.75V152.25C0 164.212 9.81 174 21.8 174H196.2C208.19 174 218 164.212 218 152.25V43.5C218 31.5375 208.19 21.75 196.2 21.75H109L87.2 0Z"
                              fill="white" />
                           <!-- 0---854 -->
                           <g filter="url(#filter0_d_202_2)">
                              <path class="animText" stroke-dasharray="854" stroke-dashoffset="0"
                                 d="M48.3578 116H36.2172L23.7016 91.8594H23.4906C23.5687 92.5938 23.6391 93.4766 23.7016 94.5078C23.7641 95.5391 23.8187 96.5938 23.8656 97.6719C23.9125 98.7344 23.9359 99.6953 23.9359 100.555V116H15.7328V81.7344H27.8266L40.2953 105.547H40.4359C40.3891 104.797 40.3422 103.93 40.2953 102.945C40.2484 101.945 40.2016 100.938 40.1547 99.9219C40.1234 98.9062 40.1078 98.0078 40.1078 97.2266V81.7344H48.3578V116ZM83.3078 116H62.9641V81.7344H83.3078V89.1641H72.2219V94.5547H82.4875V101.984H72.2219V108.453H83.3078V116ZM127.375 116H116.664L109.984 105.289L103.375 116H92.8984L104.266 98.4688L93.5781 81.7344H103.844L110.031 92.3281L115.984 81.7344H126.555L115.703 99.1953L127.375 116ZM167.575 81.7344V102.359C167.575 105.234 167.028 107.734 165.934 109.859C164.841 111.969 163.2 113.602 161.012 114.758C158.825 115.898 156.083 116.469 152.786 116.469C148.067 116.469 144.466 115.258 141.981 112.836C139.497 110.414 138.255 106.992 138.255 102.57V81.7344H147.559V101.844C147.559 104.266 148.012 106.023 148.919 107.117C149.825 108.211 151.161 108.758 152.927 108.758C154.192 108.758 155.223 108.523 156.02 108.055C156.817 107.57 157.395 106.812 157.755 105.781C158.13 104.75 158.317 103.422 158.317 101.797V81.7344H167.575ZM204.377 105.594C204.377 107.453 203.908 109.219 202.97 110.891C202.033 112.547 200.572 113.891 198.587 114.922C196.619 115.953 194.072 116.469 190.947 116.469C189.384 116.469 188.009 116.398 186.822 116.258C185.65 116.117 184.556 115.891 183.541 115.578C182.525 115.25 181.47 114.828 180.377 114.312V106.062C182.236 107 184.111 107.719 186.002 108.219C187.892 108.703 189.603 108.945 191.134 108.945C192.056 108.945 192.806 108.836 193.384 108.617C193.978 108.398 194.416 108.102 194.697 107.727C194.978 107.336 195.119 106.891 195.119 106.391C195.119 105.797 194.908 105.297 194.486 104.891C194.08 104.469 193.423 104.031 192.517 103.578C191.611 103.125 190.416 102.562 188.931 101.891C187.666 101.297 186.517 100.688 185.486 100.062C184.47 99.4375 183.595 98.7266 182.861 97.9297C182.142 97.1172 181.587 96.1719 181.197 95.0938C180.806 94.0156 180.611 92.7422 180.611 91.2734C180.611 89.0703 181.15 87.2266 182.228 85.7422C183.322 84.2422 184.837 83.1172 186.775 82.3672C188.728 81.6172 190.978 81.2422 193.525 81.2422C195.759 81.2422 197.767 81.4922 199.548 81.9922C201.345 82.4922 202.955 83.0625 204.377 83.7031L201.541 90.8516C200.072 90.1797 198.627 89.6484 197.205 89.2578C195.783 88.8516 194.462 88.6484 193.244 88.6484C192.447 88.6484 191.791 88.75 191.275 88.9531C190.775 89.1406 190.4 89.3984 190.15 89.7266C189.916 90.0547 189.798 90.4297 189.798 90.8516C189.798 91.3828 190.002 91.8594 190.408 92.2812C190.83 92.7031 191.525 93.1641 192.494 93.6641C193.478 94.1484 194.814 94.7812 196.502 95.5625C198.173 96.3125 199.595 97.125 200.767 98C201.939 98.8594 202.83 99.8984 203.439 101.117C204.064 102.32 204.377 103.812 204.377 105.594Z"
                                 stroke="black" />
                           </g>
                        </g>
                        <defs class="shadowAnim">
                           <filter id="filter0_d_202_2" x="11.7328" y="81.2422" width="196.644" height="43.2266"
                              filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                              <feFlood flood-opacity="0" result="BackgroundImageFix" />
                              <feColorMatrix in="SourceAlpha" type="matrix"
                                 values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha" />
                              <feOffset dy="4" />
                              <feGaussianBlur stdDeviation="2" />
                              <feComposite in2="hardAlpha" operator="out" />
                              <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0" />
                              <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_202_2" />
                              <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_202_2" result="shape" />
                           </filter>
                           <clipPath id="clip0_202_2">
                              <rect width="218" height="174" fill="white" />
                           </clipPath>
                        </defs>
                     </svg>
                  </a>
                  <button id="btnCollapse" class="navbar-toggler" type="button" data-toggle="collapse"
                     data-target="#navbarID" aria-controls="navbarID" aria-expanded="false"
                     aria-label="Toggle navigation">
                     <span class="navbar-toggler-icon"></span>
                  </button>
                  <div class="collapse navbar-collapse">
                     <div class="navbar-nav">
                        <div id="menu-container" class="d-flex flex-wrap">
                           <button class="m-2 btn btn-outline-light openW" id="add-product-button"
                              data-targetmodal="#Add_Product">Add Product</button>
                           <button class="m-2 btn btn-outline-light thisBtnRefresh" id="delete-selected-button">Delete
                              Selected</button>

                           <button class="m-2 btn btn-outline-light" id="add-via-csv-button"
                              onclick="handleCsvUpload()">Add via CSV</button>

                           <button class="m-2 btn btn-outline-light" id="parse-all-prices-button">Parse All
                              Prices</button>
                           <button class="m-2 btn btn-outline-light" id="parse-selected-prices-button">Parse Selected
                              Prices</button>
                           <button class="m-2 btn btn-outline-light"
                              id="parse-all-delivery-prices-button">Parse All
                              Delivery
                              Prices</button>
                           <button class="m-2 btn btn-outline-light" id="parse-selected-delivery-prices-button">Parse
                              Selected
                              Delivery Prices</button>
                           <button class="m-2 btn btn-outline-light openW" data-targetmodal="#Customize"
                              id="customize-button">Customize</button>
                           <button class="m-2 btn btn-outline-light" id="download-tsv">Download Tsv</button>
                           <button class="m-2 btn btn-outline-light" id="upload-fee" onclick="handleFeeReportUpload()">
                              <!-- Add this input element for fee report selection -->
                              <input type="file" id="fee-report-file-input" accept=".csv" style="display:none;">
                              Upload fee report</button>
                        </div>
                     </div>
                  </div>
               </div>
            </nav>
         </div>
      </div>
   </section>


   <!-- Add an edit form or modal to your HTML -->

   <!-- Add an edit form or modal to your HTML -->

   <div class="modal fade" id="edit-modal" tabindex="-1" aria-labelledby="edit-modal-label" aria-hidden="true">
      <div class="modal-dialog">
         <div class="modal-content">
            <div class="modal-header">

               <h5 class="modal-title" id="edit-modal-label">Edit Product</h5>
               <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
               <form id="edit-form">
                  <input type="text" class="form-control" id="edit-sku" placeholder="SKU" required>
                  <input type="text" class="form-control" id="edit-name" placeholder="Name" required>
                  <input type="text" class="form-control" id="edit-thr-link" placeholder="THR Link">
                  <!-- Add more fields as needed -->
                  <button type="submit" class="btn btn-primary">Save Changes</button>
               </form>

               <h5 class="modal-title" id="edit-modal-label">Edit Product</h5>
               <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
               <form id="edit-form">
                  <input type="text" class="form-control" id="edit-sku" placeholder="SKU" required>
                  <input type="text" class="form-control" id="edit-name" placeholder="Name" required>
                  <input type="text" class="form-control" id="edit-thr-link" placeholder="THR Link">
                  <!-- Add more fields as needed -->
                  <button type="submit" class="btn btn-primary">Save Changes</button>
               </form>

            </div>
         </div>
      </div>
   </div>


   <!-- Modal Hidden modal dialog for column customization-->
   <section>
      <div id="customize-dialog" class="modalW modal fade  dNone" data-targetmodal="#Customize">
         <div class="bgModalEvent closeW" data-targetmodal="#Customize"></div>
         <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content ">
               <div class="modal-header">
                  <h1 class="modal-title fs-5">Customize Columns</h1>
                  <button type="button" class="btn-close closeW" data-targetmodal="#Customize"></button>
               </div>
               <div class="modal-body d-flex justify-content-between flex-wrap align-items-center customize-checkboxes"
                  id="customize-checkboxes">
                  <!-- Checkboxes and names will be added dynamically using JavaScript -->
               </div>
               <div class="modal-body d-flex justify-content-between flex-wrap align-items-center">
                  <div>
                     <strong>Style Table:</strong>
                  </div>
                  <div id="CreateFormCheckingStyles"
                     class="d-flex flex-wrap justify-content-between align-items-center">
                     <!-- Create Radio Style table -->
                  </div>
               </div>
               <div class="modal-footer">
                  <button type="button" class="btn btn-primary closeW" id="customize-save">Save</button>
                  <button type="button" class="btn btn-secondary closeW" data-targetmodal="#Customize"
                     id="customize-cancel">Cancel</button>

               </div>
            </div>
         </div>
      </div>

      <div class="modalW modal fade  dNone" data-targetmodal="#Add_Product">
         <div class="bgModalEvent closeW" data-targetmodal="#Add_Product"></div>
         <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
               <div class="modal-header">
                  <h1 class="modal-title fs-5">Add Product</h1>
                  <button type="button" class="btn-close closeW" data-targetmodal="#Add_Product"></button>
               </div>
               <div class="modal-body">
                  <form id="add-product-form">
                     <!-- Add input fields for product details -->

                     <div class="d-flex justify-content-between">
                        <div>
                           <input type="text" class="my-2 form-control" id="ASIN" placeholder="ASIN" required>
                           <input type="text" class="my-2 form-control" id="SKU" placeholder="SKU" required>
                           <input type="text" class="my-2 form-control" id="Name" placeholder="Name">
                           <input type="text" class="my-2 form-control" id="ThrLink" placeholder="Thr Link">
                           <input type="text" class="my-2 form-control" id="WSlink" placeholder="WS link">
                           <input type="text" class="my-2 form-control" id="PricingStrategy"
                              placeholder="Pricing Strategy">
                           <input type="text" class="my-2 form-control" id="BasicHndlingTime"
                              placeholder="Basic Hndling Time">
                           <input type="text" class="my-2 form-control" id="Price" placeholder="Price">
                           <input type="text" class="my-2 form-control" id="DeliveryPriceTHR10001"
                              placeholder="Delivery Price THR 10001">
                           <input type="text" class="my-2 form-control" id="DeliveryPriceWS10001"
                              placeholder="Delivery Price WS 10001">
                        </div>
                        <div>
                           <input type="text" class="my-2 form-control" id="DeliveryPriceTHR90001"
                              placeholder="Delivery Price THR 90001">
                           <input type="text" class="my-2 form-control" id="DeliveryPriceWS90001"
                              placeholder="Delivery Price WS 90001">
                           <input type="text" class="my-2 form-control" id="ThresholdForMedianHTCalculation"
                              placeholder="Threshold For Median HT Calculation">
                           <input type="text" class="my-2 form-control" id="OrdersCount" placeholder="Orders Count">
                           <input type="text" class="my-2 form-control" id="UnitsSoldCount"
                              placeholder="Units Sold Count">
                           <input type="text" class="my-2 form-control" id="ReturnsCount" placeholder="Returns Count">
                           <input type="text" class="my-2 form-control" id="AZCount" placeholder="AZ Count">
                           <input type="text" class="my-2 form-control" id="ItemNumber" placeholder="Item Number">
                           <input type="text" class="my-2 form-control" id="StockAviability"
                              placeholder="Stock Aviability">
                           <input type="text" class="my-2 form-control" id="FreeShippingWithPlus"
                              placeholder="Free Shipping With Plus">
                           <input type="text" class="my-2 form-control" id="estimated_referral_fee"
                              placeholder="estimated_referral_fee">
                        </div>

                     </div>

                     <!-- Add more input fields for other product details -->
                     <div class="modal-footer">
                        <button type="submit" class="btn btn-success menu-container closeW thisBtnRefresh"
                           data-targetmodal="#Add_Product" data-time="300">Add</button>
                        <button type="button" class="btn btn-secondary closeW"
                           data-targetmodal="#Add_Product">Close</button>
                     </div>
                  </form>
               </div>
            </div>
         </div>
      </div>

      <div class="modalW modal fade dNone" data-targetmodal="#columnindex">
         <div class="bgModalEvent closeW" data-targetmodal="#columnindex"></div>
         <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content mh-800">
               <div class="modal-header">
                  <h1 class="modal-title fs-5 titleModalAddViacsv"></h1>
                  <button type="button" class="btn-close closeW" data-targetmodal="#columnindex"></button>
               </div>
               <div class="modal-body ContentModalAddViacsv">
               </div>
               <div class="modal-footer">
                  <button type="button" class="btn btn-secondary closeW" data-targetmodal="#columnindex">Close</button>
                  <button type="button" class="btn btn-primary POSTaddviascsv closeW thisBtnRefresh" data-time="300"
                     data-targetmodal="#columnindex">Save changes</button>
               </div>
            </div>
         </div>
      </div>

      <!-- Modal Message -->
      <div id="ModalMessage" class="modalW modal fade dNone" data-targetmodal="#Modal_Message">
         <div class="bgModalEvent closeWMessage" data-targetmodal="#Modal_Message"></div>
         <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
               <div class="modal-header">
                  <h1 class="modal-title fs-5">Modal Message</h1>
                  <button type="button" class="btn-close closeWMessage" data-targetmodal="#Modal_Message"></button>
               </div>
               <div id="MessageContent" class="modal-body"> 
               </div>
               <div class="modal-footer">
                  <button type="button" class="btn btn-secondary closeWMessage" data-targetmodal="#Modal_Message">Close</button> 
               </div>
            </div>
         </div>
      </div>
   </section>




   <!-- Content  -->
   <section>
      <div class="container-fluid">
         <div class="row mt-10">
            <div class="col-12 d-flex flex-wrap my-2">
               <div class="col-12 col-md-6">
                  <div class="pe-3">
                     <div class="d-flex my-2 flex-wrap">
                        <div class="d-flex flex-column flex-wrap m-2">
                           <div>
                              <form class="form-inline">
                                 <strong>Search</strong>
                                 <div class="input-group mb-3">
                                    <input id="InpSearch" type="text" class="form-control" placeholder="Text...">
                                    <button class="btn btn-outline-secondary" type="button" id="SearchSubmit"
                                       disabled>Apply</button>
                                 </div>
                              </form>
                           </div>
                           <div class="d-flex">
                              <div class="form-check m-2">
                                 <input class="form-check-input" type="radio" title="ASIN" name="SearchRadio"
                                    id="RadiASIN">
                                 <label class="form-check-label" for="RadiASIN">
                                    ASIN
                                 </label>
                              </div>
                              <div class="form-check m-2">
                                 <input class="form-check-input" type="radio" title="SKU" name="SearchRadio"
                                    id="RadioSKU" checked>
                                 <label class="form-check-label" for="RadioSKU">
                                    SKU
                                 </label>
                              </div>
                              <div class="form-check m-2">
                                 <input class="form-check-input" type="radio" title="PricingStrategy"
                                    name="SearchRadio" id="RadioPricingStrategy">
                                 <label class="form-check-label" for="RadioPricingStrategy">
                                    Pricing Strategy
                                 </label>
                              </div>
                           </div>
                        </div>

                        <div class="d-flex m-2">
                           <form class="form-inline">
                              <strong>Number of items</strong>
                              <div class="input-group mb-3">
                                 <input id="InpNumberOfItems" value="10" type="number" class="form-control"
                                    placeholder="Number of items">
                                 <button class="btn btn-outline-secondary" type="button"
                                    id="BtnNumberOfItems">Apply</button>
                              </div>
                           </form>
                        </div>
                     </div>
                     <!-- Progress Bar -->
                     <div id="ProgressInformation" class="d-flex flex-column">
                     </div>
                  </div>

               </div>
               <div class="col-12 col-md-6">
                  <div class="ps-3"> 
                     <div >
                        <h4><b>Webstaurant Parser</b>, last time parsed.</h4>
                     </div>
                     <div id="ConnectionMessage">

                     </div>
                  </div>
               </div>

            </div>

            <div class="col-12 my-2 overflow-x-scroll">
               <table class="ToggleStyleTable table-striped table table-bordered">
                  <!-- NewTableHeaders Create columns th -->
                  <thead>
                     <tr id="NewTableHeaders"></tr>
                  </thead>
                  <!-- newTable Create Rows td -->
                  <tbody id="newTable"></tbody>
               </table>
            </div>
         </div>
      </div>
   </section>






   <!-- Pagination -->
   <section>
      <div class="container-fluid">
         <div class="row mt-10">
            <div class="col-12 d-flex my-2">
               <nav class="fixedBot" aria-label="Page navigation example">
                  <div class="border p-2 m-1 styletotalPgage text-bg-dark">
                     <span id="current-page">Page <b>{{ current_page }}</b> of <span id="total-pages">{{ total_pages
                           }}</span></span>
                  </div>

                  <ul class="pagination pagidark">
                     <li class="page-item"><a class="page-link" href="?page=1&per_page={{ per_page }}">First</a></li>
                     {% if current_page > 1 %}
                     <li class="page-item"><a class="page-link"
                           href="?page={{ current_page - 1 }}&per_page={{ per_page }}">Previous</a></li>
                     {% endif %}
                     {% if current_page < total_pages %} <li class="page-item">
                        <a class="page-link" href="?page={{ current_page + 1 }}&per_page={{ per_page }}">Next</a>
                        </li>
                        {% endif %}
                        <li class="page-item">
                           <a class="page-link" href="?page={{ total_pages }}&per_page={{ per_page }}">Last</a>
                        </li>
                  </ul>
               </nav>
            </div>
         </div>
      </div>
   </section>
   <script type="module" src="{{ url_for('static', filename='Socket/Socket.io.min.js') }}"></script>
   <script type="module" src="{{ url_for('static', filename='script.js') }}"></script>
</body>

<!-- Add this script block with JavaScript code -->
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script>



   function handleCsvUpload() {
      // Trigger the file input click
      $("#csv-file-input").click();
   }

   // Handle file selection and form submission
   $(document).ready(function () {
      $("#csv-file-input").change(function () {
         // Get the selected file
         var file = this.files[0];

         // Create a FormData object and append the file
         var formData = new FormData();
         formData.append("csv_file", file);

         // Use Ajax to submit the form
         $.ajax({
            type: "POST",
            url: "/upload_csv",
            data: formData,
            contentType: false,
            processData: false,
            success: function (response) {
               // Handle the response from the server
               console.log(response);
               // Optionally, you can display a message to the user
               alert(response.message);
            },
            error: function (error) {
               // Handle the error
               console.error("Error uploading CSV file:", error);
            }
         });
      });
   });


</script>

<!-- Add this script block with JavaScript code -->
<script>
   function handleFeeReportUpload() {
      // Trigger the file input click
      document.getElementById("fee-report-file-input").click();
   }

   // Handle fee report file selection and form submission
   document.addEventListener("DOMContentLoaded", function () {
      var feeReportInput = document.getElementById("fee-report-file-input");

      feeReportInput.addEventListener("change", function () {
         // Get the selected file
         var file = this.files[0];

         // Create a FormData object and append the file
         var formData = new FormData();
         formData.append("fee_report_file", file);

         // Use XMLHttpRequest to submit the fee report
         var xhr = new XMLHttpRequest();
         xhr.open("POST", "/upload_fee_report", true);
         xhr.onload = function () {
            if (xhr.status === 200) {
               // Handle the response from the server
               var response = JSON.parse(xhr.responseText);
               console.log(response);
               // Optionally, you can display a message to the user
               alert(response.message);
            } else {
               // Handle the error
               console.error("Error uploading fee report:", xhr.statusText);
            }
         };

         xhr.onerror = function (error) {
            // Handle the network error
            console.error("Network error:", error);
         };

         xhr.send(formData);
      });
   });
</script>



<!-- <script>

<script>

   document.addEventListener('DOMContentLoaded', function () {
       // Add click event listener to each row
       const rows = document.querySelectorAll('#newTable tr');
       rows.forEach(row => {
           row.addEventListener('click', function () {
               // Get data from the clicked row and populate the edit form
               const rowData = JSON.parse(row.getAttribute('data-row'));
               populateEditForm(rowData);
           });
       });
   });

   function populateEditForm(data) {
       // Populate the edit form with data from the clicked row
       // Example: Assuming you have input fields with IDs like 'edit-sku', 'edit-name', etc.
       document.getElementById('edit-sku').value = data.SKU;
       document.getElementById('edit-name').value = data.Name;
       document.getElementById('edit-thr-link').value = data['THR Link'];
       // Add more fields as needed
       // Show the edit modal or form
       $('#edit-modal').modal('show');
   }

</script> -->
<!-- 
<script>
   $(document).ready(function () {
       // Add submit event listener to the edit form
       $('#edti-form').submit(function (event) {
=======
</script>

<script>
   $(document).ready(function () {
       // Add submit event listener to the edit form
       $('#edit-form').submit(function (event) {

           event.preventDefault();

           // Get data from the edit form
           const updatedData = {
               sku: $('#edit-sku').val(),
               name: $('#edit-name').val(),
               thrLink: $('#edit-thr-link').val(),
               // Add more fields as needed
           };

           // Use Ajax to submit the edit form
           $.ajax({
               type: 'POST',
               url: '/update_product',
               data: JSON.stringify(updatedData),
               contentType: 'application/json',
               success: function (response) {
                   // Handle the response from the server
                   console.log(response);
                   // Optionally, you can display a message to the user
                   alert(response.message);
                   // Hide the edit modal
                   $('#edit-modal').modal('hide');
               },
               error: function (error) {
                   // Handle the error
                   console.error('Error updating product:', error);
               }
           });
       });
   });

</script> -->

</script>



</html>